/* ===== RESET ===== */
html { box-sizing: border-box; height: 100%; }
*, *::before, *::after { box-sizing: inherit; }
body {
  margin: 0;
  font-family: "Roboto Mono", monospace;
  font-weight: 350;
  font-size: 0.9em;
  color: #333;
  background: #fff;
  min-height: 100vh;
}

/* ===== PAGE GRID =====
   3 columns on desktop: [sidebar | main | updates]
   Footer spans full width.
*/
:root {
  --sidebar-w: 350px;
  --updates-w: 28rem;   /* adjust to taste */
  --pad-lg: 80px;
  --pad-md: 32px;
  --pad-sm: 20px;
}

body {
  display: grid;
  grid-template-columns: var(--sidebar-w) minmax(0, 1fr) var(--updates-w);
  grid-template-rows: auto 1fr auto;              /* header space, page, footer */
  grid-template-areas:
    "sidebar main updates"
    "sidebar main updates"
    "footer  footer footer";
}

/* ===== SIDEBAR ===== */
.sidebar {
  grid-area: sidebar;
  padding: var(--pad-lg);
  position: sticky;     /* stays put while scrolling */
  top: 0;
  align-self: start;
  height: 100vh;
  overflow: auto;
  background: #fff;
  z-index: 1;
}
.sidebar p { margin: 8px 0; word-break: break-word; }
#prof-img {
  width: 180px; height: 180px; object-fit: cover; border-radius: 50%; margin-top: 20px;
}

/* ===== MAIN CONTENT ===== */
.main-content {
  grid-area: main;
  padding: var(--pad-lg);
  min-width: 0;         /* allow wrapping, no overflow */
  display: block;
}
#bio { margin-bottom: 55px; }

/* ===== UPDATES (right rail on desktop) ===== */
.updates {
  grid-area: updates;
  padding: var(--pad-lg);
  align-self: start;
  position: sticky;
  top: 0;
  max-height: 100vh;
  overflow: auto;
}
.updates h2 { margin: 0 0 20px 0; }
.update { margin-bottom: 18px; }
.update .update-title { font-weight: 400; margin: 0 0 2px 0; }
.update .update-desc { margin: 0; }

/* ===== PUBLICATIONS =====
   Compact, no mysterious tall gaps, image left / text right.
*/
.publication {
  display: grid;
  grid-template-columns: 220px minmax(0, 1fr);  /* image | text */
  column-gap: 16px;
  row-gap: 6px;
  align-items: start;
  background: #fff;
  padding: 8px 0;
  margin: 12px 0;
}

.pub-image { align-self: start; }
.pub-image img {
  display: block;
  width: 100%;
  max-width: 200px;
  height: auto;
  object-fit: contain;
}

.pub-content {
  display: grid;
  row-gap: 6px;         /* single source of vertical spacing */
  margin: 0;
  padding: 0;
  min-width: 0;
}

.pub-title {
  margin: 0;
  font-size: 1.2em;
  font-weight: 700;
  line-height: 1.2;
  overflow-wrap: break-word;
}
.pub-authors, .pub-venue, .pub-description { margin: 0; }
.pub-authors, .pub-venue { font-style: italic; color: #555; }
.pub-venue { font-weight: 500; color: #666; }
.pub-description { color: #333; font-size: 0.95em; }

/* Award & badges */
.pub-award {
  display: inline-block;
  background: #ffcc00;
  color: #fff;
  padding: 3px 8px;
  border-radius: 4px;
  font-size: 0.8em;
}
.pub-badge--honorable { color: crimson; font-weight: 700; }

/* Links */
.pub-links {
  display: flex;
  align-items: center;
  gap: 10px;
  margin: 0;
}
.pub-links a { text-decoration: none; color: #0077cc; padding: 6px; }
.pub-links i { font-size: 1.3em !important; }

/* ===== FOOTER ===== */
footer {
  grid-area: footer;
  text-align: center;
  padding: 10px 0;
  color: #333;
  background: #fff;
  border-top: 1px solid #eee;
}

/* ===== RESPONSIVE BREAKPOINTS ===== */

/* <= 1200px: 2 columns (sidebar | main), updates drops below main (still separate) */
@media (max-width: 1200px) {
  body {
    grid-template-columns: var(--sidebar-w) minmax(0,1fr);
    grid-template-areas:
      "sidebar main"
      "sidebar updates"
      "footer  footer";
  }
  .updates {
    position: static;
    max-height: none;
    padding-top: 0;
  }
}

/* <= 900px: 1 column stack; all flows top-to-bottom. */
@media (max-width: 900px) {
  body {
    grid-template-columns: 1fr;
    grid-template-areas:
      "sidebar"
      "main"
      "updates"
      "footer";
  }
  .sidebar, .main-content, .updates {
    padding: var(--pad-sm);
  }
  .sidebar { position: static; height: auto; }
  .updates { margin-top: 0; }
  /* Publications stack image over text */
  .publication {
    grid-template-columns: 1fr;
    row-gap: 8px;
    padding: 6px 0;
    margin: 8px 0;
  }
  .pub-image { justify-self: center; }
  .pub-image img { width: 80%; max-width: 320px; }
}

/* <= 600px: extra-tight publications */
@media (max-width: 600px) {
  .pub-image img { width: 100%; max-width: 280px; }
  .pub-title { font-size: 1.1em; line-height: 1.15; }
}
